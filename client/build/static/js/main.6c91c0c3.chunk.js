(this["webpackJsonpproject-three"]=this["webpackJsonpproject-three"]||[]).push([[0],{41:function(e,t,a){e.exports=a(99)},99:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(36),c=a.n(r),o=a(4),s=a(1),m=a(12),i=a(40),u=a(3);const d=Object(l.createContext)(),p=d.Provider,g=(e,t)=>{switch(t.type){case"SET_CURRENT_USER":return console.log("action inside SET CURRENT",t),Object(u.a)({},e,{type:t.type,_id:t._id,username:t.username,postId:t.postId,postImg:t.postImg,postTitle:t.postTitle,postDesc:t.postDesc,postTags:t.postTags,password:""});case"LOGIN_USER":case"ADD_USER":return Object(u.a)({},t);case"GALLERY_PROPS":return Object(u.a)({},e,{},t);default:return e}};let E={type:"",_id:"0",username:"",nickname:"",journal:[],works:[],favorites:[],password:"",uploaded:!1,postId:"",postImg:"",postTitle:"",postDesc:"",postTags:[]};const b=e=>{e.value;let t=Object(i.a)(e,["value"]);const a=Object(l.useReducer)(g,E),r=Object(o.a)(a,2),c=r[0],s=r[1];return n.a.createElement(p,Object.assign({value:[c,s]},t))},v=()=>Object(l.useContext)(d);var f=e=>n.a.createElement("div",{className:"router-container"},e.children," ",e.loggedIn),h=a(15),y=a(5),w=a.n(y),j=function(e){return w.a.get("/api/user/"+e)},O=function(e){return w.a.post("/api/user",{username:e.username,password:e.password,email:e.email})},k=function(e){return w.a.post("/api/user/login",{username:e.username,password:e.password})},N=function(){return w.a.post("/api/user/logout")},_=function(){return w.a.get("/api/user")},I=()=>w.a.get("/api/artwork"),S=e=>w.a.post("/api/artwork",e),R=(e,t)=>w.a.put("/api/artwork/"+e,Object(u.a)({},t)),x=e=>w.a.delete("/api/artwork/"+e),C=e=>w.a.post("/api/blog",e),T=e=>w.a.get("/api/blog/"+e),L=(e,t)=>w.a.put("/api/blog/"+e,Object(u.a)({},t)),U=e=>w.a.delete("/api/blog/"+e);var P=e=>{const t=e.works.works.map(e=>e.tags),a=[];t.filter(e=>{for(let t=0;t<e.length;t++)"nsfw"===e[t]&&a.push(e)});const l=e.works.works.filter(e=>{var t,l=Object(h.a)(a);try{for(l.s();!(t=l.n()).done;){let a=t.value;if(e.tags===a)return e}}catch(n){l.e(n)}finally{l.f()}});console.log("filtered posts in recentart",l.img),console.log("props in RecentArt.js",e);const r=[],c=e.works.works.filter(t=>{var l,n=Object(h.a)(a);try{for(n.s();!(l=n.n()).done;){let a=l.value;t.tags!==a||e.loggedIn||(t.img="/images/r18-warning.jpg",r.push(t))}}catch(c){n.e(c)}finally{n.f()}return t});return console.log("nsfwFilter",c),n.a.createElement("div",{className:"recent-art"},n.a.createElement("h1",null,"Recently uploaded art:"),e.works.works.map(e=>n.a.createElement("div",{className:"post",key:e._id},n.a.createElement("div",null,n.a.createElement("h2",null,e.title)),n.a.createElement("div",null,n.a.createElement(s.b,{to:{pathname:"".concat(e.user.username,"/gallery/work/").concat(e._id),state:{postId:e._id,postTitle:e.title,postImg:e.img,postDesc:e.description,postTags:e.tags}}},n.a.createElement("img",{src:e.img,alt:e._id}))),n.a.createElement("div",null,n.a.createElement("p",null,e.description)),n.a.createElement("div",null,n.a.createElement("p",null,e.tags)))))},D=a(16);const B={"default-state":{gradients:[["#29323c","#485563"],["#FF6B6B","#556270"],["#80d3fe","#7ea0c4"],["#f0ab51","#eceba3"]],transitionSpeed:7e3}},F={source:"../images/bg.jpeg",blendingMode:"multiply"};var A=e=>{console.log("props in login",e);const t=Object(l.useState)({username:"",password:""}),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(l.useState)({works:[]}),i=Object(o.a)(m,2),u=i[0],d=i[1];Object(l.useEffect)(()=>{I().then(e=>{d({works:e.data})})},[]),console.log("art",u);const p=Object(l.useRef)(),g=Object(l.useRef)(),E=()=>{const e=p.current.value,t=g.current.value;c({username:e,password:t})},b=e=>{e.preventDefault();const t={username:r.username,password:r.password};console.log("components/Login.js login",t),k(t).then(e=>{console.log("Login.js api.login() result",e.data.username),window.location.assign("/".concat(e.data.username,"/gallery"))}).catch(e=>console.log(e))};return u?n.a.createElement("div",{className:"login-page"},n.a.createElement("div",{className:"container login"},n.a.createElement("div",null,n.a.createElement("h1",null,n.a.createElement("span",null,"X"),"folio:"),e.loggedIn?n.a.createElement("div",null,n.a.createElement("h1",null,"Welcome back ",e.username,"!"),n.a.createElement("p",null,n.a.createElement(s.b,{to:"".concat(e.username,"/gallery")},"Your Gallery")),n.a.createElement("p",null,n.a.createElement(s.b,{to:"".concat(e.username,"/blog")},"Your Blog"))):n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:E,ref:p})),n.a.createElement("div",null,n.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:E,ref:g})),n.a.createElement(s.b,{to:"/Signup"},n.a.createElement("p",null,"New to Xfolio? Sign up here")),n.a.createElement("div",null,n.a.createElement("button",{name:"login",onClick:b},"sign in"))))),n.a.createElement(P,{works:u,loggedIn:e.loggedIn}),n.a.createElement(D.a,{isPausedWhenNotInView:"true",image:F,states:B,id:"canvas-image"})):n.a.createElement("div",{className:"login-page"},n.a.createElement("div",{className:"container login"},n.a.createElement("div",null,n.a.createElement("h1",null,n.a.createElement("span",null,"X"),"folio:"),e.loggedIn?n.a.createElement("div",null,n.a.createElement("h1",null,"Welcome back ",e.username,"!"),n.a.createElement("p",null,n.a.createElement(s.b,{to:"".concat(e.username,"/gallery")},"Your Gallery")),n.a.createElement("p",null,n.a.createElement(s.b,{to:"".concat(e.username,"/blog")},"Your Blog"))):n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:E,ref:p})),n.a.createElement("div",null,n.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:E,ref:g})),n.a.createElement(s.b,{to:"/Signup"},n.a.createElement("p",null,"New to Xfolio? Sign up here")),n.a.createElement("div",null,n.a.createElement("button",{name:"login",onClick:b},"sign in"))))),n.a.createElement(D.a,{isPausedWhenNotInView:"true",image:F,states:B,id:"canvas-image"}))};const G={"default-state":{gradients:[["#e5ff00","#485563"],["#FF6B6B","#556270"],["#80d3fe","#7ea0c4"],["#f0ab51","#eceba3"]],transitionSpeed:7e3}},W={source:"../images/bg.jpeg",blendingMode:"multiply"};var V=()=>{const e=v(),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)({}),m=Object(o.a)(c,2),i=m[0],d=m[1];console.log("state",a);const p=Object(l.useRef)(),g=Object(l.useRef)(),E=Object(l.useRef)(),b=()=>{const e=p.current.value,t=g.current.value,a=E.current.value;d({username:t,password:a,email:e})};return n.a.createElement("div",{className:"signup-page"},n.a.createElement("div",{className:"container login signup"},n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h1",null,"Welcome to ",n.a.createElement("span",null,"X"),"folio!"),n.a.createElement("div",null,n.a.createElement("input",{type:"text",name:"email",placeholder:"email",onChange:b,ref:p})),n.a.createElement("div",null,n.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:b,ref:g})),n.a.createElement("div",null,n.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:b,ref:E})),n.a.createElement(s.b,{to:"/Login"},n.a.createElement("p",null,"Already have an account? Log in here")),n.a.createElement("div",null,n.a.createElement("button",{name:"signup",onClick:e=>{e.preventDefault();const t={email:i.email,username:i.username,password:i.password};console.log("components/Signup.js sign up",t),O(t).then(e=>{console.log("Signup.js api.signup() result",e.data),k({username:i.username,password:i.password}).then(e=>{console.log("user data after post to api/login from signup",e.data),r(Object(u.a)({},a,{type:"SET_CURRENT_USER",username:e.data.username,_id:e.data._id}))}),window.location.assign("".concat(i.username,"/gallery"))}).catch(e=>{e&&console.log("components/Signup.js error",e)})}},"sign up"),n.a.createElement("br",null))))),n.a.createElement(D.a,{isPausedWhenNotInView:"true",image:W,states:G,id:"canvas-image"}))};var Y=e=>{const t=e.location.state;return n.a.createElement("div",{className:"detail"},t?n.a.createElement("div",{className:"detail-box"},n.a.createElement("div",{className:"full-info"},n.a.createElement("div",null,n.a.createElement("h1",null,t.postTitle)),n.a.createElement("div",null,t.postDesc),n.a.createElement("div",{className:"tags"},n.a.createElement("p",null,"Tagged: ",t.postTags.map(e=>n.a.createElement("span",{key:e},e," ")))),n.a.createElement("p",null,n.a.createElement(s.b,{to:"../../../"+e.match.params.username+"/gallery"},"Back to gallery")),n.a.createElement("p",null,n.a.createElement(s.b,{to:""},"Home"))),n.a.createElement("div",{className:"full-image"},n.a.createElement("img",{className:"full-image",src:t.postImg,alt:t.postTitle}))):n.a.createElement("h3",null,"Loading..."))},H=a(14);var X=e=>{const t=v(),a=Object(o.a)(t,2),l=a[0],r=a[1];console.log("props in Post",e);const c=l.journal;return c.length?n.a.createElement("div",null,c.map(t=>n.a.createElement("div",{key:t._id,className:"postbox"},n.a.createElement(s.b,{to:{pathname:"blog/"+t._id,state:Object(u.a)({},t)}},n.a.createElement("h2",null,t.title)),n.a.createElement("div",null,t.body),n.a.createElement("div",{className:"tags"},t.tags),n.a.createElement("div",null,n.a.createElement("button",{onClick:()=>{return e=t._id,U(e),void r(Object(u.a)({},l,{uploaded:!0}));var e}},n.a.createElement(H.a,{icon:"trash"})),n.a.createElement(s.b,{to:{pathname:"blog/update/".concat(t._id),state:Object(u.a)({},t,{user:e._id})}},n.a.createElement(H.a,{icon:"pencil-alt"})))))):n.a.createElement("div",null,n.a.createElement("h3",null,"You don't have any posts yet"))};var J=()=>{const e=v(),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)(),s=Object(o.a)(c,2),m=s[0],i=s[1],d=Object(l.useRef)(),p=Object(l.useRef)(),g=Object(l.useRef)();return console.log("postState",m),n.a.createElement("div",{className:"postbox"},n.a.createElement("form",{onChange:e=>{e.preventDefault();const t=d.current.value,a=p.current.value,l=g.current.value.split(",").map(e=>e.trim().replace(/\s+/g,"_"));console.log({title:t,body:a,tags:[l]}),i({title:t,body:a,tags:l})}},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"title"},"Title:"),n.a.createElement("input",{type:"text",name:"title",ref:d})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"body"},"Post:"),n.a.createElement("textarea",{name:"body",ref:p})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"tags"},"Tags, separated by a comma:"),n.a.createElement("input",{type:"text",name:"tags",ref:g})),n.a.createElement("div",null,n.a.createElement("button",{name:"submit",onClick:e=>{e.preventDefault();const t=m.title,l=m.body,n=m.tags,c=a._id;C({userId:c,title:t,body:l,tags:n}),r(Object(u.a)({},a,{type:"GALLERY_PROPS",uploaded:!0}))}},"Submit Post"))))};var M=e=>{const t=v(),a=Object(o.a)(t,2),r=a[0],c=a[1];console.log("props in blog",e);const m=window.location.toString().split("/");console.log("url",m[3]),Object(l.useEffect)(()=>{T(m[3]).then(e=>{console.log("no props res",e.data),c(Object(u.a)({},r,{_id:e.data._id,type:"GALLERY_PROPS",journal:e.data.journal,uploaded:!1}))}).catch(e=>console.log("err",e))},[r.uploaded]),console.log("state",r);return n.a.createElement("div",{className:"container blog"},n.a.createElement("div",{className:"profile"},e.loggedIn?n.a.createElement("div",null,n.a.createElement("h1",null,"Hello ",e.username)):n.a.createElement("div",null,n.a.createElement("h2",null,m[3],"'s blog")),n.a.createElement(s.b,{to:"gallery"},"Gallery Page"),e.loggedIn?n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:"",onClick:()=>{N()}},"Log out"))):n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:""},"Sign in")),n.a.createElement("p",null,n.a.createElement(s.b,{to:"/signup"},"Sign up"))),n.a.createElement("div",null,n.a.createElement(s.b,{to:""},"Home"))),n.a.createElement("div",{className:"posts"},n.a.createElement(J,null),n.a.createElement(X,{loggedIn:e.loggedIn,_id:e._id})))};var K=()=>{const e=v(),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)({message:"",file:"",fileUrl:"",url:""}),s=Object(o.a)(c,2),m=s[0],i=s[1],d=Object(l.useState)({title:"",postBody:"",tags:[]}),p=Object(o.a)(d,2),g=p[0],E=p[1],b=Object(l.useRef)(),f=Object(l.useRef)(),h=Object(l.useRef)(),y=Object(l.useRef)(),j=(Object(l.useRef)(),window.location.host),O=window.location.protocol,k=e=>{const t=g.title,l=g.postBody,n=g.tags,c=a._id;console.log("_id in handlePost",c),S({userId:c,url:e,title:t,postBody:l,tags:n}),i({fileUrl:""}),r(Object(u.a)({},a,{uploaded:!0})),f.current.value="",h.current.value="",y.current.value=""},N=e=>{e.preventDefault();const t=f.current.value,a=h.current.value,l=y.current.value.split(",").map(e=>e.trim().replace(/\s+/g,"_"));E(Object(u.a)({},g,{title:t,postBody:a,tags:l}))};return n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"upload"},"Choose an image"),n.a.createElement("input",{id:"upload-file",type:"file",name:"upload",accept:"image/*",onChange:e=>{e.preventDefault();const t=b.current.files;if(t&&t.length>0){const a=t[0];i(Object(u.a)({},m,{file:a,fileUrl:URL.createObjectURL(e.target.files[0])}))}},ref:b})),n.a.createElement("div",{className:"upload-mess"},m.message),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"title"}," Title: "),n.a.createElement("input",{type:"text",name:"title",ref:f,onChange:N})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"body"},"Description:"),n.a.createElement("textarea",{name:"body",ref:h,onChange:N})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"tags"},"Tags, separated by a comma:"),n.a.createElement("input",{type:"text",name:"tags",ref:y,onChange:N})),n.a.createElement("div",null,n.a.createElement("button",{onClick:e=>{e.preventDefault();const t=m.file;i(Object(u.a)({},m,{message:"Uploading..."}));const l=t.type,n="".concat(O,"//").concat(j,"/generate-put-url"),r={params:{Key:"".concat(a.username,"/works/").concat(Date.now(),"_").concat(t.name),ContentType:l},headers:{"Content-Type":l}};w.a.get(n,r).then(e=>{const a=e.data;w.a.put(a,t,r).then(e=>{i(Object(u.a)({},m,{message:"Upload Successful"}));const t=e.config.params,a="".concat(O,"//").concat(j,"/generate-put-url"),l={params:t};w.a.get(a,l).then(e=>{const t=e.data.replace(/\?.*/,"");i(Object(u.a)({},m,{url:t})),k(t)})}).catch(e=>{i(Object(u.a)({},m,{message:"Something went wrong, try again"})),console.log("err",e)})})}},"Submit")),m.fileUrl?n.a.createElement("div",{className:"upload-prev"},n.a.createElement("img",{src:m.fileUrl,alt:"preview",width:"140px"})):n.a.createElement("h4",null,"Preview...")))};var $=e=>{const t=e.tags;return n.a.createElement(s.b,{to:{pathname:"gallery/"+t,state:{works:e.works}},key:t},t)};var q=e=>{const t=v(),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(l.useState)({works:[]}),i=Object(o.a)(m,2),d=i[0],p=i[1],g=window.location.pathname.split("/");console.log("worksState",d),console.log("props",e),Object(l.useEffect)(()=>{j(g[1]).then(e=>{console.log("gallery get res",e.data),p({works:e.data.works}),c(Object(u.a)({},r,{type:"GALLERY_PROPS",username:e.data.username,_id:e.data._id,uploaded:!1}))})},[r.uploaded]);const E=d.works;console.log("works in gallery",E);const b=()=>{N()};return E&&E.length?n.a.createElement("div",{className:"gallery-box"},n.a.createElement("div",{className:"profile"},n.a.createElement("h1",null,"Welcome to Xfolio: ",e.username),e.loggedIn?n.a.createElement(K,null):n.a.createElement("div",null,n.a.createElement("h2",null,g[1],"'s gallery")),n.a.createElement(s.b,{to:"blog"},"Blog Page"),n.a.createElement(s.b,{to:{pathname:"gallery/".concat("portfolio"),state:{works:E}}},"Portfolio"),e.loggedIn?n.a.createElement("p",null,n.a.createElement(s.b,{to:"",onClick:b},"Log out")):n.a.createElement("p",null,n.a.createElement(s.b,{to:""},"Log in")),n.a.createElement("div",null,n.a.createElement(s.b,{to:""},"Home"))),n.a.createElement("div",{className:"gallery"},E.map(t=>n.a.createElement("div",{className:"gall",key:t._id},n.a.createElement("div",{className:"gall-thumb"},n.a.createElement(s.b,{to:{pathname:"gallery/work/"+t._id,state:{postId:t._id,postTitle:t.title,postImg:t.img,postDesc:t.description,postTags:t.tags}}},n.a.createElement("img",{src:t.img,alt:t.title}))),n.a.createElement("div",{className:"gall-info"},n.a.createElement("div",{className:"gall-title"},t.title),n.a.createElement("div",{className:"gall-descrip"},t.description),n.a.createElement("div",{className:"gall-tags"},t.tags.map(e=>n.a.createElement("span",{key:e},n.a.createElement($,{works:E,tags:e})," "))),e.loggedIn?n.a.createElement("div",null,n.a.createElement("button",{className:"del-butt",onClick:()=>{return e=t._id,x(e),void c(Object(u.a)({},r,{uploaded:!0}));var e}},n.a.createElement(H.a,{icon:"trash"})),n.a.createElement(s.b,{to:{pathname:"gallery/update/"+t._id,state:Object(u.a)({},t)}},n.a.createElement(H.a,{icon:"pencil-alt"}))):n.a.createElement("span",null)))))):n.a.createElement("div",{className:"gallery-box"},n.a.createElement("div",{className:"profile"},n.a.createElement("h1",null,"Welcome to Xfolio: ",e.username),e.loggedIn?n.a.createElement(K,null):n.a.createElement("div",null,n.a.createElement("h2",null,g[1],"'s gallery")),n.a.createElement(s.b,{to:"blog"},"Blog Page"),e.loggedIn?n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:"",onClick:b},"Log out"))):n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:""},"Sign in")),n.a.createElement("p",null,n.a.createElement(s.b,{to:"/signup"},"Sign up"))),n.a.createElement("div",null,n.a.createElement(s.b,{to:""},"Home"))),n.a.createElement("div",{className:"gallery"},n.a.createElement("h3",null,"No posts yet!")))};var z=e=>{const t=e.location.state;return n.a.createElement("div",{className:"single-post"},n.a.createElement(s.b,{to:{pathname:"../blog"}},"Back to blog"),t?n.a.createElement("div",null,n.a.createElement("div",{className:"post-title"},n.a.createElement("h1",null,t.title)),n.a.createElement("div",{className:"post-body"},n.a.createElement("p",null,t.body)),n.a.createElement("div",{className:"post-tags"},t.tags.map(e=>n.a.createElement("span",{key:e},e," ")))):n.a.createElement("h3",null,"Loading..."))};var Q=e=>{console.log("props in FilteredArt",e.location.state.works);const t=e.location.state.works.map(e=>e.tags),a=[];t.filter(t=>{for(let l=0;l<t.length;l++)t[l]===e.match.params.tag&&a.push(t)}),console.log("filtered tags",a);const l=e.location.state.works.filter(e=>{console.log("post in posts filter",e);var t,l=Object(h.a)(a);try{for(l.s();!(t=l.n()).done;){let a=t.value;if(e.tags===a)return e}}catch(n){l.e(n)}finally{l.f()}});return console.log("posts if they match???",l),l.length?n.a.createElement("div",{className:"gallery-box"},n.a.createElement("div",{className:"profile"},n.a.createElement("h2",null,"Here's all artworks tagged '",e.match.params.tag,"'"),n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:"../../"+e.match.params.username+"/gallery"},"Go back")))),n.a.createElement("div",{className:"gallery"},l.map(e=>n.a.createElement("div",{key:e._id,className:"gall"},n.a.createElement("div",{className:"gall-thumb"},n.a.createElement(s.b,{to:{pathname:"work/"+e._id,state:{postId:e._id,postTitle:e.title,postImg:e.img,postDesc:e.description,postTags:e.tags}}},n.a.createElement("img",{src:e.img,alt:e.title}))),n.a.createElement("div",null,n.a.createElement("h2",null,n.a.createElement("i",null,e.title))),n.a.createElement("div",null,e.description),n.a.createElement("div",{className:"gall-tags"},e.tags))))):n.a.createElement("div",{className:"gallery-box"},n.a.createElement("div",{className:"profile"},n.a.createElement("h2",null,"Here's all artworks tagged '",e.match.params.tag,"'"),n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{to:"../../"+e.match.params.username+"/gallery"},"Go back")))),n.a.createElement("div",{className:"gallery"},n.a.createElement("h1",null,"No posts tagged '",e.match.params.tag,"' yet")))};var Z=({location:e,match:t})=>{console.log("props.location in UpdateArt",e),console.log("props.match in UpdateArt",t);const a=Object(l.useState)(),r=Object(o.a)(a,2),c=r[0],s=r[1],m=e.state,i=t.params,u=Object(l.useRef)(),d=Object(l.useRef)(),p=Object(l.useRef)();console.log("update state",c);return n.a.createElement("div",null,n.a.createElement("form",{onChange:()=>{s({title:u.current.value,description:d.current.value,tags:p.current.value.split(",")})}},n.a.createElement("div",null,n.a.createElement("img",{src:m.img,alt:m.title})),n.a.createElement("div",null,n.a.createElement("input",{type:"text",defaultValue:m.title,ref:u})),n.a.createElement("div",null,n.a.createElement("textarea",{defaultValue:m.description,ref:d})),n.a.createElement("div",null,n.a.createElement("input",{type:"text",defaultValue:m.tags,ref:p})),n.a.createElement("div",null,n.a.createElement("button",{onClick:e=>{e.preventDefault(),R(i.id,c),window.location.assign("/"+i.username+"/gallery")}},"Save"))))};var ee=e=>{const t=Object(l.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(l.useRef)(),m=Object(l.useRef)(),i=Object(l.useRef)();console.log("props in UpdateBlog",e);return console.log("state in updateblog",r),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h1",null,"update ya blog!")),n.a.createElement("div",null,n.a.createElement("form",{onChange:()=>{c({title:s.current.value,body:m.current.value,tags:i.current.value})}},n.a.createElement("div",null,n.a.createElement("input",{type:"text",defaultValue:e.location.state.title,ref:s})),n.a.createElement("div",null,n.a.createElement("textarea",{defaultValue:e.location.state.body,ref:m})),n.a.createElement("div",null,n.a.createElement("input",{type:"text",defaultValue:e.location.state.tags,ref:i})),n.a.createElement("div",null,n.a.createElement("button",{onClick:t=>{t.preventDefault(),L(e.match.params.id,r),window.location.assign("../../../".concat(e.match.params.username,"/blog"))}},"Submit")))))},te=a(17),ae=a(24);te.b.add(ae.b,ae.a);var le=()=>{const e=Object(l.useState)({loggedIn:!1,username:"",_id:""}),t=Object(o.a)(e,2),a=t[0],r=t[1];console.log("isLoggedIn state",a),Object(l.useEffect)(()=>{_().then(e=>{console.log("res in App.js useEffect",e.data),r({loggedIn:!0,username:e.data.user[0].username,_id:e.data.user[0]._id})}).catch(e=>{console.log("error",e)})},[]);const c=a.loggedIn,i=a.username,u=a._id;return n.a.createElement(b,null,n.a.createElement(s.a,null,n.a.createElement(f,{loggedIn:c},n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:["/","/login"]},n.a.createElement(A,{loggedIn:c,username:i,id:u})),n.a.createElement(m.a,{exact:!0,path:"/signup",component:V}),n.a.createElement(m.a,{exact:!0,path:"/:username/blog"},n.a.createElement(M,{loggedIn:c,username:i,_id:u})),n.a.createElement(m.a,{exact:!0,path:"/:username/blog/:id",component:z}),n.a.createElement(m.a,{exact:!0,path:"/:username/gallery/work/:id",component:Y}),n.a.createElement(m.a,{exact:!0,path:"/:username/gallery/:tag",component:Q}),n.a.createElement(m.a,{exact:!0,path:"/:username/gallery"},n.a.createElement(q,{loggedIn:c,username:i})),n.a.createElement(m.a,{exact:!0,path:"/:username/blog/update/:id",component:ee}),n.a.createElement(m.a,{exact:!0,path:"/:username/gallery/update/:id",component:Z})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[41,1,2]]]);
//# sourceMappingURL=main.6c91c0c3.chunk.js.map